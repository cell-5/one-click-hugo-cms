{{ define "main" }}
{{ partial "jumbotron" .Params }}
<div class="bg-black c-white ta-center">
  {{ partial "wide-text" (dict "heading" .Params.heading "text" .Params.text) }}
  <div class="svg-container">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 300">
      <path
        d="M2161.59 368.934s-104.13-18.129-271.39-124.576c-100.11-65.884-262.39-93.911-375.91-60.654-144.53 23.754-214.49 52.681-378.62 0C971.539 131.022 307.256-29.923-14.855 4.88c-.326 1.641 0 462.06 0 462.06H2161.59v-98.006z"
        fill="#fff" />
    </svg>
  </div>
</div>
<div>
  {{ range $index, $element := .Params.preludes }}
  {{ if modBool $index 2 }}
  <div class="div-section ">
    <div class="mw9 center">
      {{ partial "media-block" $element }}
    </div>
  </div>
  {{ else }}
  {{ if (modBool (add $index 1) 4) }}
  <div class="svg-container">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 1920 350">
      <path
        d="M-111 349.614s98.592-17.179 256.937-118.052c94.781-62.434 248.413-88.993 355.889-57.478 136.827 22.51 203.066 49.923 358.452 0C1015.66 124.161 1644.56-28.356 1949.51 4.624c.31 1.556 0 961.932 0 961.932H-111V349.614z"
        fill="#25272E" />
    </svg>
  </div>
  <div class="bg-black div-section c-white">
    <div class="mw9 center h-100">
      {{ partial "media-block-reverse" $element }}
    </div>
    <div class="svg-container">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 1920 600">
        <g class="currentLayer">
          <path fill="#A66BF0"
            d="M2153.276 136.079s-182.86 9.26-326.95-43.28c-144.1-52.55-577.67 144.96-605.6 153.81-27.93 8.85-217.208 57.24-451.625 45.1-234.418-12.14-814.127 40.86-867.545 64.08 1.677.62 0 313.73 0 313.73h2251.72v-533.44z"
            opacity=".24" />
          <path fill="#8C3CEC"
            d="M2154.376 19.009s-247.33-73.635-441.58 75.98c-194.25 149.61-385.22 137.81-533.94 113.5-148.711-24.32-455.995-46.67-808.23 179.94-29.665 20.31-349.784 66.19-468.977 46.09-.21-.5 0 195.67 0 195.67h2252.727V19.009z"
            opacity=".123" />
          <path fill="#fff"
            d="M2083.556 811.959v-652.08c-50.31-58.19-208.02-131.96-436.34 38.51-285.41 213.08-546.11 184.84-900.126 146.33-354.012-38.51-644.907 156.6-771.144 219.5-100.99 50.32-397.005 50.92-532.39 44.93v202.81h2640z" />
        </g>
      </svg>
    </div>
  </div>
  {{ else }}
  <div class="div-section light-gradient-bg">
    <div class="mw9 center h-100">
      {{ partial "media-block-reverse" $element }}
    </div>
    <div class="svg-container">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 300">
        <path
          d="M2161.59 368.934s-104.13-18.129-271.39-124.576c-100.11-65.884-262.39-93.911-375.91-60.654-144.53 23.754-214.49 52.681-378.62 0C971.539 131.022 307.256-29.923-14.855 4.88c-.326 1.641 0 462.06 0 462.06H2161.59v-98.006z"
          fill="#fff" />
      </svg>
    </div>
  </div>
  {{ end }}
  {{ end }}
  {{ end }}
</div>

{{ partial "custom-footer" (dict "heading" .Params.heading "text" .Params.footer) }}
<script>
  window.onload = (event) => {
    console.log("initializing");
    document.getElementById("process-1-btn").disabled = true;
    document.getElementById("process-1-txt").style.display = "block";
  };

  function handleClickProcess(id) {
    let btns = document.getElementById("process-buttons").getElementsByTagName("button");
    console.log(btns);

    for (var i = 0; i < btns.length; i++) {
      let btnId = btns[i].id;
      console.log(btnId);
      let divId = btnId.slice(0, 9) + "-txt";
      document.getElementById(btnId).disabled = (btnId === (id + "-btn"));
      document.getElementById(divId).style.display = (divId === (id + "-txt")) ? "block" : "none";
    }
  };
</script>
{{ end }}